<!DOCTYPE html>
<title>Ba simulator</title>
<script type="module" src="built/sim.js"></script>
<link rel="stylesheet" href="styles.css">
Defender level: <select id="deflevelselect">
<option value="4">Level 1</option>
<option value="5" selected>Level 2-5</option>
</select><br>
Wave: <select id="waveselect">
<option value="1">Wave 1</option>
<option value="2">Wave 2</option>
<option value="3">Wave 3</option>
<option value="4">Wave 4</option>
<option value="5">Wave 5</option>
<option value="6">Wave 6</option>
<option value="7">Wave 7</option>
<option value="8">Wave 8</option>
<option value="9">Wave 9</option>
<option value="10">Wave 10</option>
</select><br>
Repairs required: <select id="togglerepair">
    <option value="yes">Yes</option>
    <option value="no">No</option>
</select><br>
Infinite food: <select id="toggleinfinitefood">
    <option value="no">No</option>
    <option value="yes">Yes</option>
</select><br>
Require log to repair: <select id="toggleloghammertorepair">
    <option value="yes">Yes</option>
    <option value="no">No</option>
</select><br>
Pause to save/load: <select id="togglepausesl">
    <option value="no">No</option>
    <option value="yes">Yes</option>
</select><br>
Runner movements: <input id="runnermovements" type="text"/><br>
Tick duration (milliseconds): <input id="tickduration" type="number" min="100" max="1200" value="600"/><br>
<button id="markingtiles">Toggle tile marker mode</button><input type="color" id="marker" name="marker" value="#000000"> Marker<br>
<button id="wavestart"></button> <b>Tick count: <span id="tickcount"></span></b> --- <b>Current Food: <span id="currdeffood"></span></b><br>
<div class="side-by-side">
    <canvas id="basimcanvas"></canvas>
    <div>
        <h2>Debug Info</h2>
        <p id="debug-info"></p>
    </div>
</div>
</br>
<b>space</b> starts or stops the wave.<br>
<b>left-click</b> moves the player.<br>
<b>right-click</b> places a collector.<br>
<b>t</b> drops tofu.<br>
<b>c</b> drops crackers.<br>
<b>w</b> drops worms.<br>
<b>1</b> picks up tofu.<br>
<b>2</b> picks up crackers.<br>
<b>3</b> picks up worms.<br>
<b>l</b> picks up logs.<br>
<b>r</b> repairs a trap.<br>
<b>p</b> pauses/unpauses.<br>
<b>s</b> saves state (pauses).<br>
<b>y</b> loads state (must be running) (pauses).<br>
<br>
<b>Repairs required:</b> If 'Yes' then traps must be repaired for runner to die at them, if 'No' then broken traps can kill runners.<br>
<b>Infinite food:</b> If 'Yes' then you have infinite food, if 'No' then start with 9 of each.<br>
<b>Require log and hammer to repair:</b> If 'Yes' then you must have a log and hammer to repair a trap, if 'No' then can repair without.<br>
<b>Pause to save/load:</b> If 'Yes' then you must pause before saving/loading, if 'No' then can save/load while unpaused.<br>
<b>Runner movements:</b> Forced runner movements. For example, 'ww-e-s' for first runner west west, second runner east, third runner south.<br>
<b>Tick duration (milliseconds):</b> Set the length of a game tick.<br>
<b>Toggle tile marker mode:</b> Click to to switch between movement and tile marker mode.<br>
While in tile marker mode, left-clicking an unmarked tile will mark it and left-clicking a marked tile will unmark it.<br>
Click the colored rectangle beside 'Marker' to change the color of marked tiles.<br>
<br>
<b>Save/Load:</b><br>
If you save with <b>s</b>, then loading with <b>y</b> will bring to to the same state on the same wave you saved. Unpause with <b>p</b><br>
Defender level will behave as it was when you saved. Runner movements are calculated dynamically, so they will vary each time you load.<br>
Tick duration can be changed by stopping the wave, changing tick duration, then starting the wave, then loading.<br>
Repair requirement is dynamic and will be whatever the value currently is set to via the selection menu.<br>
Although the wave and defender level will behave the same as when you saved, the selection in the menu will not change when you load.<br>
So, if you change the selection, start, then load: you will load from the saved wave and level, but they will not change in selectors.<br>
If you then stop and start the wave, it will play with the wave and level displayed in the selectors normally (not from loaded wave/level).<br>
<br>
It is always assumed the defender has a hammer equipped - there is no need to pick up the hammer.<br>
First food is always tofu (for convenience), changes to random new food every 50 ticks (52, 102, 152, etc.).<br>
<br>
To multikill, move off stack when last digit of tick is 1. They will eat when last digit is 4.<br>
<br>
Please let me know if anything is not working correctly. -McLovin1981<br>
<br>
<b>Thanks to Henke for creating the runner simulator, which I have expanded here</b>
